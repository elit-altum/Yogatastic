{"version":3,"sources":["components/Header.js","components/MainBody.js","App.js","index.js"],"names":["className","src","Pose","pose","number","image_url","alt","name","difficulty","benefits","defaultRequest","helps_with","body_area","sampleStatements","isSpoken","Microphone","sampleStatementsIndex","useState","poses","setPoses","isRequested","setIsRequested","statement","setStatement","lastLoad","requestObject","fetchPoses","req","a","helpsWith","bodyArea","axios","url","method","data","res","console","log","response","useEffect","setInterval","result","document","getElementById","textContent","qs","parse","delimiter","length","Header","map","index","key","id","utterance","SpeechSynthesisUtterance","speechSynthesis","speak","noPoseSpeech","App","ReactDOM","render","StrictMode"],"mappings":"2RAEe,aACb,OACE,gCACE,yBAAKA,UAAU,cACb,yBAAKA,UAAU,kBAAkBC,IAAI,oBACrC,mDCFFC,EAAO,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,KAAuB,IAAjBC,cAAiB,MAAR,EAAQ,EACrC,OACE,yBAAKJ,UAAU,QACb,yBACEA,UAAU,aACVC,IAAKE,EAAKE,UACVC,IAAG,UAAKH,EAAKI,KAAV,cAEL,yBAAKP,UAAU,gBACb,uCAASI,EAAT,aAAoBD,EAAKI,OACzB,uBAAGP,UAAU,mBAAmBG,EAAKK,YACrC,yBAAKR,UAAU,iBAAiBG,EAAKM,aAMvCC,EAAiB,CACrBF,WAAY,GACZG,WAAY,GACZC,UAAW,IAGPC,EAAmB,CACvB,kDACA,iCACA,wCACA,wCACA,0CACA,gCACA,yCACA,sCACA,oCACA,mDACA,mCACA,qCACA,yCACA,wCACA,kCAOEC,GAAW,EAyGAC,EAvGI,WACjB,IAAIC,EAAwB,EADL,EAEGC,mBAAS,IAFZ,mBAEhBC,EAFgB,KAETC,EAFS,OAGeF,oBAAS,GAHxB,mBAGhBG,EAHgB,KAGHC,EAHG,OAIWJ,mBAChCJ,EAAiBG,IALI,mBAIhBM,EAJgB,KAILC,EAJK,KAQnBC,EAAW,GACXC,EAAgB,GAEdC,EAAU,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACbD,EAAInB,aACNiB,EAAcjB,WAAamB,EAAInB,YAGjCiB,EAAcI,UAAYF,EAAIhB,YAAc,GAC5Cc,EAAcK,SAAWH,EAAIf,WAAa,GAE1CS,GAAe,GARE,kBAUGU,IAAM,CACtBC,IAAK,yBACLC,OAAQ,OACRC,KAAMT,IAbO,OAUTU,EAVS,OAefhB,EAASgB,EAAID,KAAKA,KAAKhB,OACvBG,GAAe,GAhBA,kDAkBfe,QAAQC,IAAI,KAAEC,UACdjB,GAAe,GAnBA,0DAAH,sDAuDhB,OArBAkB,qBAAU,WACRb,EAAWhB,GACX8B,aAAY,WACV,IAAMC,EAASC,SAASC,eAAe,UAAUC,YAC7CH,IAAWjB,IACbA,EAAWiB,EACXf,EAAWmB,IAAGC,MAAML,EAAQ,CAAEM,UAAW,QACzCjC,GAAW,KAEZ,KAEH0B,aAAY,WAMVjB,EAAaV,EALbG,EACEA,IAA0BH,EAAiBmC,OAAS,EAChD,EACAhC,EAAwB,MAG7B,OACF,IAGD,6BACE,kBAACiC,EAAD,MACA,yBAAKjD,UAAU,aACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,SACb,wBAAIA,UAAU,qBAAd,iBACA,wBAAIA,UAAU,qBAAd,cACA,uBAAGA,UAAU,oBAAb,kEAGA,4EAGF,yBAAKA,UAAU,mBACb,2CACA,uBAAGA,UAAU,sBAAb,WAAuCsB,EAAvC,QAGJ,yBAAKtB,UAAU,cACZoB,IACIF,EAAM8B,OACP9B,EAAMgC,KAAI,SAAC/C,EAAMgD,GAAP,OACR,kBAAC,EAAD,CAAMhD,KAAMA,EAAMC,OAAQ+C,EAAQ,EAAGC,IAAKjD,EAAKkD,QAGjD,uBAAGrD,UAAU,mBA1DJ,WACnB,IAAKc,EAAU,CACb,IAAIwC,EAAY,IAAIC,yBAClB,8CAEFC,gBAAgBC,MAAMH,GAGxBxC,GAAW,EAmDE4C,GADH,mBAEkB,6BAFlB,uCCrICC,MARf,WACC,OACC,yBAAK3D,UAAU,OACd,kBAAC,EAAD,QCDH4D,IAASC,OACR,kBAAC,IAAMC,WAAP,KACC,kBAAC,EAAD,OAEDpB,SAASC,eAAe,W","file":"static/js/main.47cc4c93.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <header>\r\n      <nav className=\"header-top\">\r\n        <img className=\"header-top-logo\" src=\"/logo-light.png\"></img>\r\n        <p>Powered by Wit.AI</p>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport qs from \"qs\";\r\nimport axios from \"axios\";\r\nimport Header from \"./Header\";\r\n\r\nconst Pose = ({ pose, number = 1 }) => {\r\n  return (\r\n    <div className=\"pose\">\r\n      <img\r\n        className=\"pose-image\"\r\n        src={pose.image_url}\r\n        alt={`${pose.name}'s image`}\r\n      />\r\n      <div className=\"pose-details\">\r\n        <h2>{`0${number}. ${pose.name}`}</h2>\r\n        <p className=\"pose-difficulty\">{pose.difficulty}</p>\r\n        <div className=\"post-benefits\">{pose.benefits}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst defaultRequest = {\r\n  difficulty: \"\",\r\n  helps_with: \"\",\r\n  body_area: \"\",\r\n};\r\n\r\nconst sampleStatements = [\r\n  \"Show me beginner level poses to relieve stress.\",\r\n  \"How can I rejuvenate my body ?\",\r\n  \"Show me poses to help with headaches.\",\r\n  \"Help me stretch my legs & lower back.\",\r\n  \"What can I do to strengthen my joints ?\",\r\n  \"Help me get a better posture.\",\r\n  \"Poses to help relieve menstrual cramps\",\r\n  \"Poses to stretch your spine & neck.\",\r\n  \"What can I do if I have anxiety ?\",\r\n  \"Find poses for the carpalÂ tunnelÂ syndrome.\",\r\n  \"Poses to help with high thyroid.\",\r\n  \"Find poses to help with pregnancy.\",\r\n  \"Show me only intermediate level poses.\",\r\n  \"Poses to help with blood circulation.\",\r\n  \"How can I cope with insomnia ?\",\r\n];\r\n\r\nconst stopSpeech = () => {\r\n  window.speechSynthesis.cancel();\r\n};\r\n\r\nlet isSpoken = false;\r\n\r\nconst Microphone = () => {\r\n  let sampleStatementsIndex = 0;\r\n  const [poses, setPoses] = useState([]);\r\n  const [isRequested, setIsRequested] = useState(false);\r\n  const [statement, setStatement] = useState(\r\n    sampleStatements[sampleStatementsIndex]\r\n  );\r\n\r\n  let lastLoad = \"\";\r\n  let requestObject = {};\r\n\r\n  const fetchPoses = async (req) => {\r\n    if (req.difficulty) {\r\n      requestObject.difficulty = req.difficulty;\r\n    }\r\n\r\n    requestObject.helpsWith = req.helps_with || \"\";\r\n    requestObject.bodyArea = req.body_area || \"\";\r\n\r\n    setIsRequested(false);\r\n    try {\r\n      const res = await axios({\r\n        url: \"/api/v1/poses/findPose\",\r\n        method: \"POST\",\r\n        data: requestObject,\r\n      });\r\n      setPoses(res.data.data.poses);\r\n      setIsRequested(true);\r\n    } catch (e) {\r\n      console.log(e.response);\r\n      setIsRequested(true);\r\n    }\r\n  };\r\n\r\n  const noPoseSpeech = () => {\r\n    if (!isSpoken) {\r\n      let utterance = new SpeechSynthesisUtterance(\r\n        \"No matching poses found. Please try again.\"\r\n      );\r\n      speechSynthesis.speak(utterance);\r\n    }\r\n\r\n    isSpoken = true;\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPoses(defaultRequest);\r\n    setInterval(() => {\r\n      const result = document.getElementById(\"result\").textContent;\r\n      if (result !== lastLoad) {\r\n        lastLoad = result;\r\n        fetchPoses(qs.parse(result, { delimiter: \"\\n\" }));\r\n        isSpoken = false;\r\n      }\r\n    }, 2000);\r\n\r\n    setInterval(() => {\r\n      sampleStatementsIndex =\r\n        sampleStatementsIndex === sampleStatements.length - 1\r\n          ? 0\r\n          : sampleStatementsIndex + 1;\r\n\r\n      setStatement(sampleStatements[sampleStatementsIndex]);\r\n    }, 4000);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"main-body\">\r\n        <div className=\"opening\">\r\n          <div className=\"intro\">\r\n            <h1 className=\"opening-heading-1\">Cure Yourself</h1>\r\n            <h1 className=\"opening-heading-2\">With Yoga.</h1>\r\n            <p className=\"opening-tag-line\">\r\n              Discover yoga poses and their benefits specific to your needs.\r\n            </p>\r\n            <p>Interact openly and freely using your voice.</p>\r\n          </div>\r\n\r\n          <div className=\"sample-commands\">\r\n            <h3>Try Saying:</h3>\r\n            <p className=\"sample-command-box\">{`\"${statement}\"`}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"body-poses\">\r\n          {isRequested &&\r\n            (!!poses.length ? (\r\n              poses.map((pose, index) => (\r\n                <Pose pose={pose} number={index + 1} key={pose.id} />\r\n              ))\r\n            ) : (\r\n              <p className=\"poses-not-found\">\r\n                {noPoseSpeech()}\r\n                No Poses Found. <br /> Please Try Again ðŸ˜¢\r\n              </p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Microphone;\r\n","import React from \"react\";\nimport Main from \"./components/MainBody.js\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Main />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}